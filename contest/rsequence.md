# ลำดับราชา (Royal Sequence)

นิยาม ลำดับ Royal Sequence ดังต่อไปนี้: ให้ลำดับ $A$ เป็นลำดับของจำนวนเต็ม $N$ ตัว สามารถทำการดำเนินการดังต่อไปนี้ได้ (กี่ครั้งก็ได้ หรือไม่ทำเลยก็ได้): หาตัวที่มีค่าเท่ากันติดกันในลำดับ แล้วลบทั้งคู่ออก

ยกตัวอย่างเช่น
ลำดับ $(1, 2, 2, 4, 5)$ จะสามารถดำเนินการกลายเป็น $(1, 4, 5)$ ได้
ลำดับ $(1, 2, 2, 4, 3, 3, 4)$ จะสามารถดำเนินการกลายเป็น $(1, 4, 3, 3, 4)$ ได้ ต่อมาจะสามารถเป็น $(1, 4, 4)$ ได้ และสุดท้ายจะเป็น $(1)$ ได้

หากสามารถดำเนินการดังกล่าวจนลำดับกลายเป็นลำดับว่างได้ เราจะเรียกว่า $A$ เป็น Royal Sequence

นิยาม ลำดับย่อยต่อเนื่อง (Contiguous Subsequence) ของลำดับ $A$ คือ ลำดับที่ได้จากการตัดตัวหน้า (prefix) (หรือไม่ตัดก็ได้) ของ $A$ และ ตัดตัวหลัง (suffix) (หรือไม่ตัดก็ได้) ของ $A$ เช่น $(5, 4)$ เป็นลำดับย่อย ของ $(1, 5, 6, 5, 4, 3)$ ที่สร้างจากการตัด $(1, 5, 6)$ ซึ่งเป็น prefix และตัด $(3)$ ซึ่งเป็น suffix
อย่างไรก็ตาม $(1, 5)$, $(1)$, $(4, 3)$ และ $(1, 5, 6, 5, 4, 3)$ ก็ถือเป็นลำดับย่อยต่อเนื่องของ $(1, 5, 6, 5, 4, 3)$ เช่นกัน แต่ $(1, 6)$ ไม่เป็นลำดับย่อยต่อเนื่อง และ $(3, 3)$ ไม่เป็นลำดับย่อยต่อเนื่อง

กำหนดลำดับ $P$ เป็นลำดับยาว $N$ ประกอบด้วยจำนวนเต็ม

ต้องการหาว่ามีลำดับย่อยต่อเนื่องทั้งหมดกี่ลำดับย่อย ที่เป็น Royal Sequence

## ข้อมูลนำเข้า

บรรทัดแรก ระบุจำนวนเต็มบวก $N$ รับประกันว่ามีค่าไม่เกิน $500,000$

บรรทัดต่อมา ระบุจำนวนเต็ม $N$ ตัว แต่ละตัวคือสมาชิกของลำดับ $A$ ตามลำดับ รับประกันว่ามีค่าระหว่าง $0$ ถึง $N$

## ข้อมูลส่งออก

บรรทัดเดียว ระบุจำนวนลำดับย่อยต่อเนื่องทั้งหมดที่เป็น Royal Sequence

## การให้คะแนน

ปัญหาย่อย 1 (15 คะแนน): $N \leq 8$

ปัญหาย่อย 2 (13 คะแนน): $N \leq 300$

ปัญหาย่อย 3 (21 คะแนน): $N \leq 2,000$

ปัญหาย่อย 4 (4 คะแนน): $A_i = 0$

ปัญหาย่อย 5 (14 คะแนน): $0 \leq A_i \leq 1$

ปัญหาย่อย 6 (28 คะแนน): $N \leq 80,000$

ปัญหาย่อย 7 (5 คะแนน): ไม่มีเงื่อนไขเพิ่มเติม

## ตัวอย่าง

ข้อมูลนำเข้า 1:

```
5
1 1 1 2 2
```

ข้อมูลส่งออก 1:

```
4
```

ข้อมูลนำเข้า 2:

```
8
1 0 0 0 0 1 1 0
```

ข้อมูลส่งออก 2:

```
10
```

ข้อมูลนำเข้า 3:

```
9
0 1 0 1 1 0 0 0 1
```

ข้อมูลส่งออก 3:

```
7
```

ข้อมูลนำเข้า 4:

```
6
1 2 3 3 2 1
```

ข้อมูลส่งออก 4:

```
3
```
